// Language data object with all translations for Private Boat Rental Experience
const translations = {
  en: {
    // Header
    title: "■ Private Boat Rental Experience & Owner Insights",
    subtitle:
      "Comprehensive Analysis of P2P Maritime Platform Dynamics (2021-2024)",
    executiveSummary: "EXECUTIVE SUMMARY",
    abstractText:
      "The peer-to-peer boat rental ecosystem represents a fundamental shift in maritime leisure economics, enabling private boat owners to monetize idle assets while providing qualified sailors with flexible, cost-effective charter alternatives. This analysis examines owner motivations, renter personas, cross-border logistics, and trust infrastructure requirements across European markets. Key findings reveal that 88% of charters are bareboat rentals by experienced sailors, with P2P platforms offering 35% cost savings compared to traditional charter companies.",

    // Table of Contents
    tableOfContents: "■ TABLE OF CONTENTS",
    toc1: "1. Private Boat Owner Motivations & Barriers",
    toc2: "2. Qualified Sailor Renter Personas & Behaviors",
    toc3: "3. Cross-Border Bareboat Logistics in Europe",
    toc4: "4. Trust Infrastructure & Verification Systems",
    toc5: "5. Platform Success Factors & Market Opportunities",
    toc6: "6. Research Methodology & Data Sources",

    // Section Headers
    ownerMotivations: "■ PRIVATE BOAT OWNER MOTIVATIONS & BARRIERS",
    renterPersonas: "■ QUALIFIED SAILOR RENTER PERSONAS & BEHAVIORS",
    crossBorder: "■ CROSS-BORDER BAREBOAT LOGISTICS IN EUROPE",
    trustInfrastructure: "■ TRUST INFRASTRUCTURE & VERIFICATION SYSTEMS",
    marketOpportunities: "■ PLATFORM SUCCESS FACTORS & MARKET OPPORTUNITIES",
    methodology: "■ RESEARCH METHODOLOGY & DATA SOURCES",

    // Owner Motivations Section
    financialMotivations: "Financial Motivations & Cost Recovery",
    ownerRiskConcerns: "Owner Risk Concerns & Mitigation Strategies",
    damageAndLiability: "■ DAMAGE & LIABILITY CONCERNS",
    insuranceGaps: "■ INSURANCE GAPS",

    // Data labels
    annualMarinaFees: "Annual Marina Fees",
    insuranceAndMaintenance: "Insurance & Maintenance",
    potentialRentalIncome: "Potential Rental Income",
    costRecoveryPotential: "Cost Recovery Potential",

    // Renter Personas Section
    demographicProfile: "Demographic Profile & Certification Requirements",
    valuePropositionAnalysis: "Value Proposition Analysis",
    europeanLicensingRequirements:
      "■ EUROPEAN LICENSING REQUIREMENTS BY COUNTRY",
    traditionalCharter: "TRADITIONAL CHARTER",
    p2pPlatform: "P2P PLATFORM",

    // Cross-Border Section
    vatTaxComplexity: "VAT & Tax Complexity Matrix",
    documentationCompliance: "Documentation & Compliance Requirements",
    countrySpecificTax: "■ COUNTRY-SPECIFIC TAX REQUIREMENTS",
    preCharterDocumentation: "■ PRE-CHARTER DOCUMENTATION CHECKLIST",

    // Trust Infrastructure Section
    multiLayerVerification: "Multi-Layer Verification Framework",
    insuranceFinancialProtection: "Insurance & Financial Protection Models",
    identityVerification: "■ IDENTITY VERIFICATION",
    qualificationVerification: "■ QUALIFICATION VERIFICATION",
    assetVerification: "■ ASSET VERIFICATION",
    p2pInsuranceCoverage: "■ P2P INSURANCE COVERAGE STRUCTURE",

    // Market Opportunities Section
    competitiveDifferentiation: "Competitive Differentiation Matrix",
    strategicRecommendations: "Strategic Recommendations",
    criticalSuccessFactors: "■ CRITICAL SUCCESS FACTORS FOR P2P BOAT PLATFORMS",
    regulatoryFrameworkOptimization: "■ REGULATORY FRAMEWORK OPTIMIZATION",
    trustInfrastructureEnhancement: "■ TRUST INFRASTRUCTURE ENHANCEMENT",
    marketExpansionStrategy: "■ MARKET EXPANSION STRATEGY",

    // Methodology Section
    dataCollectionAnalysis: "Data Collection & Analysis Framework",
    primaryResearch: "PRIMARY RESEARCH",
    secondaryAnalysis: "SECONDARY ANALYSIS",
    quantitativeMetrics: "QUANTITATIVE METRICS",

    // Chart labels
    ownerConcerns: "Owner Risk Concerns",
    renterDemographics: "Renter Demographics by Age Group",
    vatRates: "European VAT Rates on Charter Services",
    trustFramework: "Trust Framework Components",
    insuranceModel: "Insurance Coverage Distribution",
    competitiveMatrix: "Platform Competitive Positioning",

    // Table headers
    country: "Country",
    requiredLicense: "Required License",
    powerThreshold: "Power Threshold",
    distanceLimits: "Distance Limits",
    coverageType: "Coverage Type",
    typicalLimits: "Typical Limits",
    deductible: "Deductible",
    premiumStructure: "Premium Structure",

    // Conclusion
    strategicConclusions: "■ STRATEGIC CONCLUSIONS",
    conclusionText:
      "The European P2P boat rental market presents significant opportunities for platforms that successfully address trust, compliance, and user experience challenges. Success requires deep understanding of maritime regulations, robust insurance partnerships, and focus on the experienced sailor segment. Platforms that integrate seamless cross-border functionality with comprehensive verification systems are positioned to capture substantial market share in this growing €4.4 billion European market.",
  },

  de: {
    // Header
    title: "■ Private Bootsverleih-Erfahrungen & Eigner-Einblicke",
    subtitle:
      "Umfassende Analyse der P2P-Maritime-Plattform-Dynamiken (2021-2024)",
    executiveSummary: "ZUSAMMENFASSUNG",
    abstractText:
      "Das Peer-to-Peer-Bootsverleih-Ökosystem stellt einen grundlegenden Wandel in der maritimen Freizeitwirtschaft dar, der es privaten Bootseigentümern ermöglicht, ungenutzte Vermögenswerte zu monetarisieren, während qualifizierte Segler flexible, kostengünstige Charter-Alternativen erhalten. Diese Analyse untersucht Eigner-Motivationen, Mieter-Personas, grenzüberschreitende Logistik und Vertrauensinfrastruktur-Anforderungen über europäische Märkte hinweg. Wichtige Erkenntnisse zeigen, dass 88% der Charter Bareboat-Vermietungen durch erfahrene Segler sind, wobei P2P-Plattformen 35% Kosteneinsparungen im Vergleich zu traditionellen Charter-Unternehmen bieten.",

    // Table of Contents
    tableOfContents: "■ INHALTSVERZEICHNIS",
    toc1: "1. Private Bootseigner-Motivationen & Barrieren",
    toc2: "2. Qualifizierte Segler-Mieter-Personas & Verhaltensweisen",
    toc3: "3. Grenzüberschreitende Bareboat-Logistik in Europa",
    toc4: "4. Vertrauensinfrastruktur & Verifizierungssysteme",
    toc5: "5. Plattform-Erfolgsfaktoren & Marktchancen",
    toc6: "6. Forschungsmethodik & Datenquellen",

    // Section Headers
    ownerMotivations: "■ PRIVATE BOOTSEIGNER-MOTIVATIONEN & BARRIEREN",
    renterPersonas: "■ QUALIFIZIERTE SEGLER-MIETER-PERSONAS & VERHALTENSWEISEN",
    crossBorder: "■ GRENZÜBERSCHREITENDE BAREBOAT-LOGISTIK IN EUROPA",
    trustInfrastructure: "■ VERTRAUENSINFRASTRUKTUR & VERIFIZIERUNGSSYSTEME",
    marketOpportunities: "■ PLATTFORM-ERFOLGSFAKTOREN & MARKTCHANCEN",
    methodology: "■ FORSCHUNGSMETHODIK & DATENQUELLEN",

    // Owner Motivations Section
    financialMotivations: "Finanzielle Motivationen & Kostenrückgewinnung",
    ownerRiskConcerns: "Eigner-Risikobefürchtungen & Minderungsstrategien",
    damageAndLiability: "■ SCHÄDEN & HAFTUNGSBEDENKEN",
    insuranceGaps: "■ VERSICHERUNGSLÜCKEN",

    // Data labels
    annualMarinaFees: "Jährliche Hafengebühren",
    insuranceAndMaintenance: "Versicherung & Wartung",
    potentialRentalIncome: "Potentielle Mieteinnahmen",
    costRecoveryPotential: "Kostenrückgewinnungs-Potential",

    // Renter Personas Section
    demographicProfile: "Demografisches Profil & Zertifizierungsanforderungen",
    valuePropositionAnalysis: "Wertversprechen-Analyse",
    europeanLicensingRequirements:
      "■ EUROPÄISCHE LIZENZIERUNGSANFORDERUNGEN NACH LAND",
    traditionalCharter: "TRADITIONELLE CHARTER",
    p2pPlatform: "P2P-PLATTFORM",

    // Cross-Border Section
    vatTaxComplexity: "Mehrwertsteuer & Steuer-Komplexitäts-Matrix",
    documentationCompliance: "Dokumentations- & Compliance-Anforderungen",
    countrySpecificTax: "■ LÄNDERSPEZIFISCHE STEUERANFORDERUNGEN",
    preCharterDocumentation: "■ VOR-CHARTER-DOKUMENTATIONS-CHECKLISTE",

    // Trust Infrastructure Section
    multiLayerVerification: "Mehrstufiges Verifizierungs-Framework",
    insuranceFinancialProtection: "Versicherungs- & Finanzschutz-Modelle",
    identityVerification: "■ IDENTITÄTSVERIFIKATION",
    qualificationVerification: "■ QUALIFIKATIONSVERIFIKATION",
    assetVerification: "■ VERMÖGENSVERIFIKATION",
    p2pInsuranceCoverage: "■ P2P-VERSICHERUNGSDECKUNGS-STRUKTUR",

    // Market Opportunities Section
    competitiveDifferentiation: "Wettbewerbsdifferenzierungs-Matrix",
    strategicRecommendations: "Strategische Empfehlungen",
    criticalSuccessFactors:
      "■ KRITISCHE ERFOLGSFAKTOREN FÜR P2P-BOOTS-PLATTFORMEN",
    regulatoryFrameworkOptimization: "■ REGULATORISCHE RAHMENWERK-OPTIMIERUNG",
    trustInfrastructureEnhancement: "■ VERTRAUENSINFRASTRUKTUR-VERBESSERUNG",
    marketExpansionStrategy: "■ MARKTEXPANSIONS-STRATEGIE",

    // Methodology Section
    dataCollectionAnalysis: "Datensammlung & Analyse-Framework",
    primaryResearch: "PRIMÄRFORSCHUNG",
    secondaryAnalysis: "SEKUNDÄRANALYSE",
    quantitativeMetrics: "QUANTITATIVE METRIKEN",

    // Chart labels
    ownerConcerns: "Eigner-Risikobefürchtungen",
    renterDemographics: "Mieter-Demografie nach Altersgruppe",
    vatRates: "Europäische Mehrwertsteuersätze auf Charter-Services",
    trustFramework: "Vertrauens-Framework-Komponenten",
    insuranceModel: "Versicherungsdeckungsverteilung",
    competitiveMatrix: "Plattform-Wettbewerbspositionierung",

    // Table headers
    country: "Land",
    requiredLicense: "Erforderliche Lizenz",
    powerThreshold: "Leistungsschwelle",
    distanceLimits: "Entfernungslimits",
    coverageType: "Deckungsart",
    typicalLimits: "Typische Grenzen",
    deductible: "Selbstbehalt",
    premiumStructure: "Prämienstruktur",

    // Conclusion
    strategicConclusions: "■ STRATEGISCHE SCHLUSSFOLGERUNGEN",
    conclusionText:
      "Der europäische P2P-Bootsverleih-Markt bietet erhebliche Chancen für Plattformen, die erfolgreich Vertrauen, Compliance und Benutzererfahrungs-Herausforderungen angehen. Erfolg erfordert tiefes Verständnis von Seefahrtsvorschriften, robuste Versicherungspartnerschaften und Fokus auf das erfahrene Segler-Segment. Plattformen, die nahtlose grenzüberschreitende Funktionalität mit umfassenden Verifizierungssystemen integrieren, sind positioniert, um erhebliche Marktanteile in diesem wachsenden €4,4 Milliarden europäischen Markt zu erobern.",
  },
};

// Language switching functionality
let currentLanguage = "en";

function switchLanguage(lang) {
  currentLanguage = lang;

  // Update active button
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.remove("active");
  });
  document.querySelector(`[data-lang="${lang}"]`).classList.add("active");

  // Update all translatable elements
  updateTranslatableElements(lang);

  // Update chart titles
  updateChartTitles(lang);

  // Store language preference
  localStorage.setItem("preferredLanguage", lang);
}

function updateTranslatableElements(lang) {
  // Update elements with data attributes
  document.querySelectorAll("[data-en]").forEach((element) => {
    if (element.dataset[lang]) {
      element.textContent = element.dataset[lang];
    }
  });

  // Update specific elements
  const elementsToTranslate = [
    { selector: ".abstract h3", key: "executiveSummary" },
    { selector: ".abstract p", key: "abstractText" },
    { selector: ".toc h3", key: "tableOfContents" },
    { selector: '.toc a[href="#owner-motivations"]', key: "toc1" },
    { selector: '.toc a[href="#renter-personas"]', key: "toc2" },
    { selector: '.toc a[href="#cross-border"]', key: "toc3" },
    { selector: '.toc a[href="#trust-infrastructure"]', key: "toc4" },
    { selector: '.toc a[href="#market-opportunities"]', key: "toc5" },
    { selector: '.toc a[href="#methodology"]', key: "toc6" },
  ];

  elementsToTranslate.forEach((item) => {
    const element = document.querySelector(item.selector);
    if (element && translations[lang][item.key]) {
      element.textContent = translations[lang][item.key];
    }
  });
}

function updateChartTitles(lang) {
  // Update chart titles if charts exist
  const chartTitleMap = {
    ownerCostsChart: "ownerConcerns",
    ownerConcernsChart: "ownerConcerns",
    renterDemographicsChart: "renterDemographics",
    valuePropositionChart: "competitiveMatrix",
    vatRatesChart: "vatRates",
    trustFrameworkChart: "trustFramework",
    insuranceModelChart: "insuranceModel",
    competitiveMatrix: "competitiveMatrix",
  };

  Object.entries(chartTitleMap).forEach(([chartId, translationKey]) => {
    const chart = window.charts && window.charts[chartId];
    if (chart && translations[lang][translationKey]) {
      chart.options.plugins.title.text = translations[lang][translationKey];
      chart.update();
    }
  });
}

// Initialize when DOM is loaded
document.addEventListener("DOMContentLoaded", function () {
  // Set up language toggle buttons
  document.querySelectorAll(".lang-btn").forEach((button) => {
    button.addEventListener("click", function () {
      const lang = this.dataset.lang;
      switchLanguage(lang);
    });
  });

  // Load saved language preference
  const savedLang = localStorage.getItem("preferredLanguage") || "en";
  if (savedLang !== "en") {
    switchLanguage(savedLang);
  }
});

// Export for use in other scripts
window.languageManager = {
  switchLanguage,
  currentLanguage: () => currentLanguage,
  translations,
};
